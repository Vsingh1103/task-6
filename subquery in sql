--IT RETURNS A SINGLE VALUE(SCALAR)
SELECT 
    e.EmployeeID,
    e.Name,
    e.Salary,
    (SELECT AVG(Salary) FROM Employees) AS AvgSalary
FROM Employees e;

--USING WHERE WITH IN
SELECT Name, DepartmentID
FROM Employees
WHERE DepartmentID IN (
    SELECT DepartmentID 
    FROM Departments 
    WHERE Location = 'New York'
);

--THIS IS CORRELATED
SELECT d.DepartmentName
FROM Departments d
WHERE EXISTS (
    SELECT 1
    FROM Employees e
    WHERE e.DepartmentID = d.DepartmentID
      AND e.Salary > 80000
);

--SUBQUERY IN FROM
SELECT DepartmentID, MAX(Salary) AS MaxSalary
FROM (
    SELECT DepartmentID, Salary
    FROM Employees
) AS DeptSalaries
GROUP BY DepartmentID;

--NESTED SUBQUERIES WITH =
SELECT Name, Salary
FROM Employees
WHERE Salary = (
    SELECT MAX(Salary) 
    FROM Employees
);
